# タスク1.6.9: LIMIT設定UI実装 設計書

## 概要

**タスクID**: 1.6.9
**タスク名**: LIMIT設定UI実装
**工数**: 0.5日
**依存関係**: なし
**完了条件**: LIMITとOFFSETの数値を設定可能
**UIフレームワーク**: Nuxt UI v4（Tailwind CSS 4ベース）

---

## 目的

SELECT文のLIMIT句（取得件数制限）とOFFSET句（開始位置）を設定するUIを実装する。

---

## UI設計

### LIMITタブ

```
┌─────────────────────────────────────────────────────────────┐
│ [SELECT] [WHERE] [GROUP BY] [ORDER BY] [LIMIT]              │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  LIMIT / OFFSET設定                                          │
│  ─────────────────────────────────────────────────────────  │
│                                                              │
│  ┌────────────────────┐                                     │
│  │ LIMIT (取得件数)    │                                     │
│  │ [   100          ] │                                     │
│  └────────────────────┘                                     │
│                                                              │
│  ┌────────────────────┐                                     │
│  │ OFFSET (開始位置)   │                                     │
│  │ [   0            ] │                                     │
│  └────────────────────┘                                     │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

---

## コンポーネント設計

### ファイル構成

```
src/components/query-builder/
├── limit/
│   └── LimitTab.vue              # LIMITタブ
└── ConditionTabs.vue             # タブコンテナ（更新）
```

---

### limit/LimitTab.vue

```vue
<script setup lang="ts">
import { computed } from 'vue'
import { useQueryBuilderStore } from '@/stores/query-builder'

const queryBuilderStore = useQueryBuilderStore()

const limit = computed({
  get: () => queryBuilderStore.limit,
  set: (val) => queryBuilderStore.updateLimit(val)
})

const offset = computed({
  get: () => queryBuilderStore.offset,
  set: (val) => queryBuilderStore.updateOffset(val)
})
</script>

<template>
  <div class="h-full p-4 flex flex-col gap-6">
    <div class="p-4 border rounded-lg bg-white dark:bg-gray-800">
      <h3 class="text-sm font-medium mb-4 text-gray-700 dark:text-gray-200">取得制限オプション</h3>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- LIMIT -->
        <UFormField label="LIMIT (取得件数)" help="取得する最大レコード数">
          <UInput type="number" v-model.number="limit" placeholder="例: 100" min="0" />
        </UFormField>

        <!-- OFFSET -->
        <UFormField label="OFFSET (開始位置)" help="スキップするレコード数">
           <UInput type="number" v-model.number="offset" placeholder="例: 0" min="0" />
        </UFormField>
      </div>
    </div>
  </div>
</template>
```
