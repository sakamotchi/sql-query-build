# タスク1.5b.2.1.3: 型定義ファイル作成

**サブフェーズ**: 2.1 Composables・型定義
**工数**: 1.5時間
**優先度**: 高
**依存関係**: なし

---

## 目的

アプリケーション全体で使用する型を定義

---

## 実装内容

### ファイル作成: `app/types/index.ts`

```typescript
/**
 * 環境タイプ
 */
export type Environment = 'development' | 'test' | 'staging' | 'production'

/**
 * データベースタイプ
 */
export type DatabaseType = 'mysql' | 'postgresql' | 'sqlite' | 'sqlserver' | 'oracle'

/**
 * セキュリティプロバイダー
 */
export type SecurityProvider = 'system' | 'master-password'

/**
 * セキュリティレベル
 */
export type SecurityLevel = 'low' | 'medium' | 'high'

/**
 * カラーモード
 */
export type ColorMode = 'light' | 'dark' | 'auto'

/**
 * 言語
 */
export type Language = 'ja' | 'en'

/**
 * 接続情報インターフェース
 */
export interface Connection {
  id: string
  name: string
  type: DatabaseType
  environment: Environment
  host: string
  port: number
  username: string
  database: string
  password?: string  // Optional: セキュリティプロバイダーで暗号化
  customColor?: {
    primary: string
    background: string
  }
  createdAt: string
  updatedAt: string
}

/**
 * アプリケーション設定インターフェース
 */
export interface AppSettings {
  theme: ColorMode
  language: Language
  autoSave: boolean
  windowRestore: boolean
}

/**
 * セキュリティ設定インターフェース
 */
export interface SecuritySettings {
  provider: SecurityProvider
  level: SecurityLevel
  masterPasswordSet?: boolean
}

/**
 * ウィンドウ状態インターフェース
 */
export interface WindowState {
  id: string
  connectionId: string
  position: { x: number; y: number }
  size: { width: number; height: number }
  isMaximized: boolean
  createdAt: string
}

/**
 * テーマ設定インターフェース
 */
export interface ThemeConfig {
  colorMode: ColorMode
  primaryColor: string
  environmentColors: Record<Environment, { primary: string; bg: string }>
}

/**
 * Tauri IPCレスポンス型
 */
export interface TauriResponse<T> {
  success: boolean
  data?: T
  error?: string
}

/**
 * 接続テスト結果
 */
export interface ConnectionTestResult {
  success: boolean
  message: string
  latency?: number
}
```

---

## 確認事項

- [ ] ファイルが作成されたか
- [ ] すべての必要な型が定義されているか
- [ ] 型に矛盾がないか
- [ ] オプショナルフィールドが正しく定義されているか
- [ ] 環境タイプ、データベースタイプが網羅されているか

---

## 成果物

- `app/types/index.ts`

---

## 型定義一覧

| 型名 | 種類 | 説明 |
|------|------|------|
| `Environment` | Type | 環境タイプ(4種類) |
| `DatabaseType` | Type | データベースタイプ(5種類) |
| `SecurityProvider` | Type | セキュリティプロバイダー |
| `SecurityLevel` | Type | セキュリティレベル |
| `ColorMode` | Type | カラーモード |
| `Language` | Type | 言語設定 |
| `Connection` | Interface | 接続情報 |
| `AppSettings` | Interface | アプリ設定 |
| `SecuritySettings` | Interface | セキュリティ設定 |
| `WindowState` | Interface | ウィンドウ状態 |
| `ThemeConfig` | Interface | テーマ設定 |
| `TauriResponse<T>` | Interface | Tauri IPC応答 |
| `ConnectionTestResult` | Interface | 接続テスト結果 |

---

## 次のタスク

→ [2.1.4: useTheme composable作成](2.1.4_useTheme.md)
