# タスク1.5b.2.4.2: ConnectionCard.vue作成

**サブフェーズ**: 2.4 ランチャーページ
**工数**: 3時間
**優先度**: 高
**依存関係**: 2.1.3 (型定義), 2.3.2 (EnvironmentBadge), 2.3.3 (EnvironmentIndicator)

---

## 目的

接続カードコンポーネントを実装

---

## 実装内容

### ファイル作成: `app/components/connection/ConnectionCard.vue`

```vue
<script setup lang="ts">
import type { Connection } from '~/types'

const props = defineProps<{
  connection: Connection
}>()

const emit = defineEmits<{
  edit: [connection: Connection]
  delete: [connection: Connection]
  connect: [connection: Connection]
}>()

/**
 * データベースタイプのアイコン
 */
const dbIcon = computed(() => {
  const icons: Record<string, string> = {
    mysql: 'i-logos-mysql',
    postgresql: 'i-logos-postgresql',
    sqlite: 'i-logos-sqlite',
    sqlserver: 'i-logos-microsoft',
    oracle: 'i-logos-oracle'
  }
  return icons[props.connection.type] || 'i-heroicons-circle-stack'
})

/**
 * 接続に接続する
 */
const handleConnect = () => {
  emit('connect', props.connection)
}

/**
 * 接続を編集
 */
const handleEdit = () => {
  emit('edit', props.connection)
}

/**
 * 接続を削除
 */
const handleDelete = () => {
  emit('delete', props.connection)
}
</script>

<template>
  <UCard class="relative hover:shadow-lg transition-shadow">
    <EnvironmentIndicator :environment="connection.environment" position="top" />

    <div class="space-y-4">
      <!-- ヘッダー -->
      <div class="flex items-start justify-between">
        <div class="flex items-center gap-3">
          <UIcon :name="dbIcon" class="w-8 h-8" />
          <div>
            <h3 class="text-lg font-semibold">{{ connection.name }}</h3>
            <p class="text-sm text-gray-500 dark:text-gray-400">
              {{ connection.type.toUpperCase() }}
            </p>
          </div>
        </div>
        <EnvironmentBadge :environment="connection.environment" size="sm" />
      </div>

      <!-- 接続情報 -->
      <div class="space-y-2 text-sm">
        <div class="flex items-center gap-2">
          <UIcon name="i-heroicons-server" class="w-4 h-4 text-gray-400" />
          <span class="text-gray-700 dark:text-gray-300">
            {{ connection.host }}:{{ connection.port }}
          </span>
        </div>
        <div class="flex items-center gap-2">
          <UIcon name="i-heroicons-circle-stack" class="w-4 h-4 text-gray-400" />
          <span class="text-gray-700 dark:text-gray-300">
            {{ connection.database }}
          </span>
        </div>
        <div class="flex items-center gap-2">
          <UIcon name="i-heroicons-user" class="w-4 h-4 text-gray-400" />
          <span class="text-gray-700 dark:text-gray-300">
            {{ connection.username }}
          </span>
        </div>
      </div>

      <!-- アクションボタン -->
      <div class="flex gap-2 pt-4 border-t border-gray-200 dark:border-gray-700">
        <UButton
          color="primary"
          size="sm"
          block
          @click="handleConnect"
        >
          接続
        </UButton>
        <UButton
          color="gray"
          variant="outline"
          size="sm"
          icon="i-heroicons-pencil"
          @click="handleEdit"
        />
        <UButton
          color="red"
          variant="outline"
          size="sm"
          icon="i-heroicons-trash"
          @click="handleDelete"
        />
      </div>
    </div>
  </UCard>
</template>
```

---

## 確認事項

- [ ] コンポーネントが作成されたか
- [ ] 接続情報が正しく表示されるか
- [ ] 環境インジケーターが表示されるか
- [ ] アクションボタンが動作するか
- [ ] データベースタイプ別アイコンが表示されるか
- [ ] ホバー効果が動作するか

---

## 成果物

- `app/components/connection/ConnectionCard.vue`

---

## Props仕様

| Prop | 型 | 必須 | 説明 |
|------|---|------|------|
| `connection` | `Connection` | ✓ | 接続情報 |

---

## Events

| Event | Payload | 説明 |
|-------|---------|------|
| `edit` | `Connection` | 編集ボタンクリック時 |
| `delete` | `Connection` | 削除ボタンクリック時 |
| `connect` | `Connection` | 接続ボタンクリック時 |

---

## 表示情報

- 接続名（タイトル）
- データベースタイプ
- ホスト:ポート
- データベース名
- ユーザー名
- 環境バッジ
- 環境インジケーター

---

## データベースタイプ別アイコン

| DB | アイコン |
|----|---------|
| MySQL | i-logos-mysql |
| PostgreSQL | i-logos-postgresql |
| SQLite | i-logos-sqlite |
| SQL Server | i-logos-microsoft |
| Oracle | i-logos-oracle |

---

## 次のタスク

→ [2.4.3: ConnectionList.vue作成](2.4.3_ConnectionList.md)
