# タスク1.5b.2.4.5: SearchFilter.vue作成

**サブフェーズ**: 2.4 ランチャーページ
**工数**: 2.5時間
**優先度**: 中
**依存関係**: 2.1.3 (型定義)

---

## 目的

検索・フィルターコンポーネントを実装

---

## 実装内容

### ファイル作成: `app/components/launcher/SearchFilter.vue`

```vue
<script setup lang="ts">
import type { Environment } from '~/types'

const searchQuery = defineModel<string>('searchQuery', { default: '' })
const environmentFilter = defineModel<string | 'all'>('environmentFilter', { default: 'all' })

/**
 * 環境フィルターオプション
 */
const environmentOptions = [
  { label: 'すべての環境', value: 'all' },
  { label: '開発環境', value: 'development' },
  { label: 'テスト環境', value: 'test' },
  { label: 'ステージング環境', value: 'staging' },
  { label: '本番環境', value: 'production' }
]

/**
 * 検索クエリをクリア
 */
const clearSearch = () => {
  searchQuery.value = ''
}

/**
 * フィルターをリセット
 */
const resetFilters = () => {
  searchQuery.value = ''
  environmentFilter.value = 'all'
}

/**
 * フィルターが適用されているか
 */
const hasActiveFilters = computed(() => {
  return searchQuery.value !== '' || environmentFilter.value !== 'all'
})
</script>

<template>
  <div class="space-y-4">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <!-- 検索入力 -->
      <div class="relative">
        <UInput
          v-model="searchQuery"
          icon="i-heroicons-magnifying-glass"
          size="lg"
          placeholder="接続名、ホスト、データベース名で検索..."
        >
          <template v-if="searchQuery" #trailing>
            <UButton
              icon="i-heroicons-x-mark"
              variant="ghost"
              color="gray"
              size="xs"
              @click="clearSearch"
            />
          </template>
        </UInput>
      </div>

      <!-- 環境フィルター -->
      <USelect
        v-model="environmentFilter"
        :options="environmentOptions"
        size="lg"
        icon="i-heroicons-funnel"
      />
    </div>

    <!-- アクティブフィルター表示とリセットボタン -->
    <div v-if="hasActiveFilters" class="flex items-center justify-between">
      <div class="flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400">
        <UIcon name="i-heroicons-funnel" />
        <span>フィルター適用中</span>
      </div>
      <UButton
        variant="ghost"
        color="gray"
        size="sm"
        @click="resetFilters"
      >
        リセット
      </UButton>
    </div>
  </div>
</template>
```

---

## 確認事項

- [ ] コンポーネントが作成されたか
- [ ] 検索入力が動作するか
- [ ] 環境フィルターが動作するか
- [ ] クリアボタンが表示・動作するか
- [ ] フィルターリセットが動作するか
- [ ] v-modelが正しく機能するか

---

## 成果物

- `app/components/launcher/SearchFilter.vue`

---

## Model定義

| Model | 型 | デフォルト | 説明 |
|-------|---|-----------|------|
| `searchQuery` | `string` | `''` | 検索クエリ |
| `environmentFilter` | `string \| 'all'` | `'all'` | 環境フィルター |

---

## 機能

### 1. 検索機能
- 接続名、ホスト、データベース名で検索
- リアルタイム検索
- クリアボタン（入力がある場合のみ表示）

### 2. 環境フィルター
- すべての環境 / 開発 / テスト / ステージング / 本番
- ドロップダウン選択

### 3. フィルターリセット
- 検索とフィルターを一括クリア
- フィルター適用中のみ表示

---

## Computed Properties

| 名称 | 説明 |
|------|------|
| `hasActiveFilters` | フィルターが適用されているか |

---

## 使用例

```vue
<SearchFilter
  v-model:search-query="searchQuery"
  v-model:environment-filter="environmentFilter"
/>
```

---

## レスポンシブデザイン

- モバイル: 縦並び（1列）
- デスクトップ: 横並び（2列）

---

## 次のタスク

→ [2.4.6: EmptyState.vue作成](2.4.6_EmptyState.md)
