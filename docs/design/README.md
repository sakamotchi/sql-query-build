# 設計書一覧

このディレクトリには、SQLエディタプロジェクトの詳細設計書が格納されています。

---

## 📂 ディレクトリ構成

```
docs/design/
├── README.md                           # このファイル
├── 1.3.1_launcher_ui_design.md         # 起動画面(ランチャー)UI実装
├── 1.3.2_connection_card_design.md     # 接続カードコンポーネント作成
├── 1.3.3_connection_form_design.md     # 接続設定フォームUI実装
├── 1.3.4_connection_crud_design.md     # 接続CRUD機能実装(Rust)
├── 1.3.5_connection_store_design.md    # フロントエンド接続管理Store実装
├── 1.3.6_tauri_ipc_design.md           # Tauri IPC通信実装
├── 1.3.7_connection_test_design.md     # 接続テスト機能実装
└── 1.3.8_search_filter_design.md       # 検索・フィルター機能実装
```

---

## 📋 WBS 1.3: 接続管理機能 設計書一覧

### 1.3.1 起動画面(ランチャー)UI実装

**ファイル**: [1.3.1_launcher_ui_design.md](./1.3.1_launcher_ui_design.md)

**概要**: アプリケーション起動時に表示される、データベース接続の一覧と管理を行うランチャー画面のUI設計

**主要コンポーネント**:
- LauncherPage.vue (メインページ)
- LauncherAppBar.vue (ヘッダー)
- LauncherToolbar.vue (ツールバー)
- ConnectionList.vue (接続リスト)

**工数**: 2日

---

### 1.3.2 接続カードコンポーネント作成

**ファイル**: [1.3.2_connection_card_design.md](./1.3.2_connection_card_design.md)

**概要**: ランチャー画面で各データベース接続を視覚的に表示するカードコンポーネントの設計

**主要機能**:
- 環境別の色分け表示
- 接続情報の表示
- 各種操作メニュー(編集/複製/削除)
- ホバー効果とインタラクション

**工数**: 1日

---

### 1.3.3 接続設定フォームUI実装

**ファイル**: [1.3.3_connection_form_design.md](./1.3.3_connection_form_design.md)

**概要**: データベース接続情報の登録・編集を行うフォーム画面の設計

**主要機能**:
- 基本情報入力(接続名、環境、テーマカラー)
- データベース設定(種別、ホスト、ポート、データベース名)
- 認証情報入力(ユーザー名、パスワード)
- 詳細設定(SSL、SSHトンネル、タイムアウト)
- バリデーション

**工数**: 2日

---

### 1.3.4 接続CRUD機能実装(Rust)

**ファイル**: [1.3.4_connection_crud_design.md](./1.3.4_connection_crud_design.md)

**概要**: Rustバックエンドで接続情報のCRUD操作を実装

**主要モジュール**:
- `models/connection.rs` - データモデル定義
- `storage/connection_storage.rs` - ストレージ層
- `services/connection_service.rs` - ビジネスロジック
- `commands/connection.rs` - Tauriコマンド

**主要機能**:
- 接続の作成・読み込み・更新・削除
- パスワード暗号化
- JSONファイルベースの永続化
- トランザクション的な操作

**工数**: 3日

---

### 1.3.5 フロントエンド接続管理Store実装

**ファイル**: [1.3.5_connection_store_design.md](./1.3.5_connection_store_design.md)

**概要**: Piniaを使用した接続情報の状態管理

**主要機能**:
- 接続リストの管理
- フィルタリング・ソート
- Tauriコマンドとの連携
- エラーハンドリング
- ローカルキャッシュ

**工数**: 1日

---

### 1.3.6 Tauri IPC通信実装

**ファイル**: [1.3.6_tauri_ipc_design.md](./1.3.6_tauri_ipc_design.md)

**概要**: フロントエンド(Vue/TypeScript)とバックエンド(Rust)間のIPC通信設計

**主要機能**:
- 型安全なAPI定義
- エラーハンドリング
- ログ出力
- モック・テスト対応

**ファイル**:
- `src/api/connection.ts` - フロントエンドAPIクライアント
- `src-tauri/src/commands/connection.rs` - バックエンドコマンド

**工数**: 2日

---

### 1.3.7 接続テスト機能実装

**ファイル**: [1.3.7_connection_test_design.md](./1.3.7_connection_test_design.md)

**概要**: データベース接続設定の検証機能

**主要機能**:
- PostgreSQL/MySQL/SQLite接続テスト
- タイムアウト処理
- サーバー情報取得
- エラー詳細表示
- トラブルシューティングガイド

**工数**: 1日

---

### 1.3.8 検索・フィルター機能実装

**ファイル**: [1.3.8_search_filter_design.md](./1.3.8_search_filter_design.md)

**概要**: 接続リストの検索・フィルタリング機能

**主要機能**:
- テキスト検索(接続名、ホスト名、データベース名)
- 環境別フィルター
- データベース種別フィルター
- ソート機能(名前/最終使用/環境/作成日時)
- デバウンス処理
- キーボードショートカット

**工数**: 1日

---

## 📊 進捗管理

### 設計完了状況

| タスクID | タスク名 | 設計書 | ステータス |
|---------|---------|--------|-----------|
| 1.3.1 | 起動画面(ランチャー)UI実装 | ✅ | 完了 |
| 1.3.2 | 接続カードコンポーネント作成 | ✅ | 完了 |
| 1.3.3 | 接続設定フォームUI実装 | ✅ | 完了 |
| 1.3.4 | 接続CRUD機能実装(Rust) | ✅ | 完了 |
| 1.3.5 | フロントエンド接続管理Store実装 | ✅ | 完了 |
| 1.3.6 | Tauri IPC通信実装 | ✅ | 完了 |
| 1.3.7 | 接続テスト機能実装 | ✅ | 完了 |
| 1.3.8 | 検索・フィルター機能実装 | ✅ | 完了 |

**合計工数**: 13日

---

## 🎯 実装順序

設計書に基づいた推奨実装順序:

1. **データ永続化層** (前提条件: 1.2系タスク完了)
   - 1.2.1 ファイルストレージモジュール
   - 1.2.2 暗号化ユーティリティ
   - 1.2.3 マスターキー管理
   - 1.2.4 接続情報データモデル
   - 1.2.5 データ永続化層テスト

2. **バックエンド基盤**
   - 1.3.4 接続CRUD機能実装(Rust)
   - 1.3.6 Tauri IPC通信実装

3. **フロントエンド状態管理**
   - 1.3.5 フロントエンド接続管理Store実装

4. **UI実装**
   - 1.3.1 起動画面(ランチャー)UI実装
   - 1.3.2 接続カードコンポーネント作成
   - 1.3.3 接続設定フォームUI実装

5. **機能拡張**
   - 1.3.8 検索・フィルター機能実装
   - 1.3.7 接続テスト機能実装

---

## 🔗 関連ドキュメント

- [要件定義書・概要設計書](../sql_editor_requirements_md.md)
- [WBS](../sql_editor_wbs.md)
- [プロジェクトルートREADME](../../README.md)
- [CLAUDE.md](../../CLAUDE.md) - 開発コマンドとアーキテクチャ概要

---

## 📝 設計書フォーマット

各設計書は以下の構成で記載されています:

1. **概要**
   - タスクID、タスク名、工数、依存関係、完了条件

2. **目的**
   - 実装する機能の目的と背景

3. **設計内容**
   - データモデル
   - コンポーネント設計
   - API設計
   - 画面設計

4. **実装詳細**
   - コード例
   - ファイル構成
   - 依存関係

5. **テスト**
   - ユニットテスト
   - E2Eテスト
   - テスト観点

6. **実装チェックリスト**
   - 実装時の確認項目

---

## 🚀 次のステップ

1. **設計レビュー**: 各設計書のレビューとフィードバック反映
2. **実装開始**: 推奨実装順序に従って開発開始
3. **進捗管理**: WBSと照らし合わせて進捗を追跡
4. **テスト**: 各タスク完了時に設計書のチェックリストで確認

---

## 📞 お問い合わせ

設計に関する質問や提案は、プロジェクトの Issue トラッカーまでお願いします。

---

**最終更新日**: 2025-11-03
**作成者**: Claude Code
