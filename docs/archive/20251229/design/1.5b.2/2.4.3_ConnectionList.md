# タスク1.5b.2.4.3: ConnectionList.vue作成

**サブフェーズ**: 2.4 ランチャーページ
**工数**: 2時間
**優先度**: 中
**依存関係**: 2.1.3 (型定義), 2.4.2 (ConnectionCard)

---

## 目的

接続リスト表示コンポーネントを実装（リストビュー形式）

---

## 実装内容

### ファイル作成: `app/components/connection/ConnectionList.vue`

```vue
<script setup lang="ts">
import type { Connection } from '~/types'

const props = defineProps<{
  connections: Connection[]
  loading?: boolean
}>()

const emit = defineEmits<{
  edit: [connection: Connection]
  delete: [connection: Connection]
  connect: [connection: Connection]
}>()

const handleEdit = (connection: Connection) => {
  emit('edit', connection)
}

const handleDelete = (connection: Connection) => {
  emit('delete', connection)
}

const handleConnect = (connection: Connection) => {
  emit('connect', connection)
}
</script>

<template>
  <div class="space-y-4">
    <!-- ローディング -->
    <div v-if="loading" class="text-center py-8">
      <UIcon name="i-heroicons-arrow-path" class="animate-spin text-4xl text-gray-400" />
      <p class="mt-4 text-gray-600 dark:text-gray-300">読み込み中...</p>
    </div>

    <!-- 空状態 -->
    <div v-else-if="connections.length === 0" class="text-center py-12">
      <UIcon name="i-heroicons-inbox" class="text-6xl text-gray-400" />
      <p class="mt-4 text-gray-600 dark:text-gray-300">
        接続が見つかりませんでした
      </p>
    </div>

    <!-- リスト表示 -->
    <div v-else class="space-y-3">
      <UCard
        v-for="connection in connections"
        :key="connection.id"
        class="hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors"
      >
        <div class="flex items-center justify-between">
          <!-- 左側: 接続情報 -->
          <div class="flex items-center gap-4 flex-1">
            <EnvironmentBadge :environment="connection.environment" size="sm" />

            <div class="flex-1">
              <h4 class="font-semibold">{{ connection.name }}</h4>
              <p class="text-sm text-gray-500 dark:text-gray-400">
                {{ connection.type.toUpperCase() }} • {{ connection.host }}:{{ connection.port }} • {{ connection.database }}
              </p>
            </div>
          </div>

          <!-- 右側: アクションボタン -->
          <div class="flex gap-2">
            <UButton
              color="primary"
              size="sm"
              @click="handleConnect(connection)"
            >
              接続
            </UButton>
            <UButton
              color="gray"
              variant="outline"
              size="sm"
              icon="i-heroicons-pencil"
              @click="handleEdit(connection)"
            />
            <UButton
              color="red"
              variant="outline"
              size="sm"
              icon="i-heroicons-trash"
              @click="handleDelete(connection)"
            />
          </div>
        </div>
      </UCard>
    </div>
  </div>
</template>
```

---

## 確認事項

- [ ] コンポーネントが作成されたか
- [ ] リスト形式で表示されるか
- [ ] ローディング状態が表示されるか
- [ ] 空状態が表示されるか
- [ ] アクションボタンが動作するか

---

## 成果物

- `app/components/connection/ConnectionList.vue`

---

## Props仕様

| Prop | 型 | 必須 | デフォルト | 説明 |
|------|---|------|-----------|------|
| `connections` | `Connection[]` | ✓ | - | 接続リスト |
| `loading` | `boolean` | - | `false` | ローディング状態 |

---

## Events

| Event | Payload | 説明 |
|-------|---------|------|
| `edit` | `Connection` | 編集ボタンクリック時 |
| `delete` | `Connection` | 削除ボタンクリック時 |
| `connect` | `Connection` | 接続ボタンクリック時 |

---

## 表示モード

このコンポーネントはリストビュー形式で表示します：
- 1行に1接続
- 左側に環境バッジ + 接続情報
- 右側にアクションボタン
- ホバー時に背景色変更

---

## カードビューとの違い

| 項目 | カードビュー | リストビュー |
|------|------------|------------|
| レイアウト | グリッド | 縦並び |
| 情報量 | 多い | コンパクト |
| 用途 | 詳細確認 | 一覧性重視 |

---

## 次のタスク

→ [2.4.4: LauncherToolbar.vue作成](2.4.4_LauncherToolbar.md)
