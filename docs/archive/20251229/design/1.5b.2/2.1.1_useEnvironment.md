# タスク1.5b.2.1.1: useEnvironment composable作成

**サブフェーズ**: 2.1 Composables・型定義
**工数**: 2時間
**優先度**: 高
**依存関係**: なし

---

## 目的

環境（開発/テスト/ステージング/本番）の管理ロジックを実装

---

## 実装内容

### ファイル作成: `app/composables/useEnvironment.ts`

```typescript
import type { Environment } from '~/types'

/**
 * 環境管理Composable
 *
 * 環境の選択、環境別カラー、環境別スタイルクラスを提供
 */
export const useEnvironment = () => {
  const currentEnvironment = useState<Environment>('currentEnvironment', () => 'development')

  /**
   * 環境別カラー定義
   */
  const environmentColors = computed(() => {
    const colors: Record<Environment, { primary: string; bg: string; border: string }> = {
      development: {
        primary: '#4CAF50',
        bg: '#F1F8E9',
        border: '#4CAF50'
      },
      test: {
        primary: '#2196F3',
        bg: '#E3F2FD',
        border: '#2196F3'
      },
      staging: {
        primary: '#FF9800',
        bg: '#FFF3E0',
        border: '#FF9800'
      },
      production: {
        primary: '#F44336',
        bg: '#FFEBEE',
        border: '#F44336'
      }
    }
    return colors[currentEnvironment.value]
  })

  /**
   * 環境別Tailwindクラス
   */
  const environmentClass = computed(() => {
    return `env-${currentEnvironment.value}`
  })

  /**
   * 環境ラベル
   */
  const environmentLabel = computed(() => {
    const labels: Record<Environment, string> = {
      development: '開発',
      test: 'テスト',
      staging: 'ステージング',
      production: '本番'
    }
    return labels[currentEnvironment.value]
  })

  /**
   * 環境を設定
   */
  const setEnvironment = (env: Environment) => {
    currentEnvironment.value = env
  }

  return {
    currentEnvironment,
    environmentColors,
    environmentClass,
    environmentLabel,
    setEnvironment
  }
}
```

---

## 確認事項

- [ ] ファイルが作成されたか
- [ ] 環境カラーが正しく定義されているか
- [ ] 型が正しく定義されているか
- [ ] useState、computedが正しく使用されているか
- [ ] 4つの環境すべてに対応しているか

---

## 成果物

- `app/composables/useEnvironment.ts`

---

## テスト項目

| テスト内容 | 期待結果 |
|-----------|---------|
| デフォルト環境は'development'か | ✓ |
| 各環境のカラーが取得できるか | ✓ |
| 環境クラス名が正しく生成されるか | ✓ |
| 環境ラベルが正しく表示されるか | ✓ |
| setEnvironmentで環境変更できるか | ✓ |

---

## 次のタスク

→ [2.1.2: useTauri composable作成](2.1.2_useTauri.md)
