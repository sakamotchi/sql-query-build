# タスク1.5b.2.5.2: EnvironmentSelector.vue作成

**サブフェーズ**: 2.5 接続フォームページ
**工数**: 2時間
**優先度**: 高
**依存関係**: 2.1.1 (useEnvironment), 2.1.3 (型定義)

---

## 目的

環境選択UIコンポーネントを実装

---

## 実装内容

### ファイル作成: `app/components/connection/EnvironmentSelector.vue`

```vue
<script setup lang="ts">
import type { Environment } from '~/types'

const selectedEnvironment = defineModel<Environment>({ required: true })

const { environmentLabel } = useEnvironment()

/**
 * 環境オプション
 */
const environmentOptions: Array<{
  value: Environment
  label: string
  color: string
  icon: string
  description: string
}> = [
  {
    value: 'development',
    label: '開発環境',
    color: 'green',
    icon: 'i-heroicons-code-bracket',
    description: '開発・テスト用の環境'
  },
  {
    value: 'test',
    label: 'テスト環境',
    color: 'blue',
    icon: 'i-heroicons-beaker',
    description: '品質保証・テスト用の環境'
  },
  {
    value: 'staging',
    label: 'ステージング環境',
    color: 'amber',
    icon: 'i-heroicons-cloud',
    description: '本番前の検証用環境'
  },
  {
    value: 'production',
    label: '本番環境',
    color: 'red',
    icon: 'i-heroicons-server',
    description: '実運用環境（要注意）'
  }
]

/**
 * 環境を選択
 */
const selectEnvironment = (env: Environment) => {
  selectedEnvironment.value = env
}
</script>

<template>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
    <button
      v-for="option in environmentOptions"
      :key="option.value"
      type="button"
      :class="[
        'relative p-4 rounded-lg border-2 transition-all text-left',
        selectedEnvironment === option.value
          ? `border-${option.color}-500 bg-${option.color}-50 dark:bg-${option.color}-900/20`
          : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'
      ]"
      @click="selectEnvironment(option.value)"
    >
      <!-- 選択チェックマーク -->
      <div
        v-if="selectedEnvironment === option.value"
        class="absolute top-2 right-2"
      >
        <UIcon
          name="i-heroicons-check-circle"
          :class="`text-${option.color}-500 text-xl`"
        />
      </div>

      <!-- アイコンとラベル -->
      <div class="flex items-center gap-3 mb-2">
        <UIcon
          :name="option.icon"
          :class="`text-2xl text-${option.color}-500`"
        />
        <h4 class="font-semibold text-gray-900 dark:text-white">
          {{ option.label }}
        </h4>
      </div>

      <!-- 説明 -->
      <p class="text-sm text-gray-600 dark:text-gray-400">
        {{ option.description }}
      </p>
    </button>
  </div>
</template>
```

---

## 確認事項

- [ ] コンポーネントが作成されたか
- [ ] 環境選択が動作するか
- [ ] 選択状態が視覚的に分かりやすいか
- [ ] v-modelが正しく機能するか
- [ ] レスポンシブ対応されているか

---

## 成果物

- `app/components/connection/EnvironmentSelector.vue`

---

## Model定義

| Model | 型 | 必須 | 説明 |
|-------|---|------|------|
| `modelValue` | `Environment` | ✓ | 選択された環境 |

---

## 環境オプション

| 環境 | ラベル | カラー | アイコン | 説明 |
|------|--------|--------|---------|------|
| development | 開発環境 | green | code-bracket | 開発・テスト用の環境 |
| test | テスト環境 | blue | beaker | 品質保証・テスト用の環境 |
| staging | ステージング環境 | amber | cloud | 本番前の検証用環境 |
| production | 本番環境 | red | server | 実運用環境（要注意） |

---

## デザイン仕様

### 未選択状態
- グレーボーダー
- ホバー時にボーダーが濃くなる

### 選択状態
- 環境別カラーボーダー
- 環境別背景色（薄い）
- 右上にチェックマーク

---

## レスポンシブデザイン

- モバイル: 1列（縦並び）
- タブレット以上: 2列（2x2グリッド）

---

## 使用例

```vue
<UFormGroup label="環境" required>
  <EnvironmentSelector v-model="form.environment" />
</UFormGroup>
```

---

## アクセシビリティ

- ボタン要素で実装（キーボード操作可能）
- 選択状態が視覚的に明確
- スクリーンリーダー対応

---

## 次のタスク

→ [2.5.3: EnvironmentColorPicker.vue作成](2.5.3_EnvironmentColorPicker.md)
