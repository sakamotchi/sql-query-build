# SQLエディタ開発 WBS v2.0 (Nuxt + Nuxt UI v4 フレッシュスタート版)

**プロジェクト期間**: 3-4ヶ月 (残り)
**作成日**: 2025年12月7日
**前提**: 1.5a セキュリティ情報格納方式変更まで完了

---

## 進捗サマリー

### 完了済みフェーズ

✅ **フェーズ1の一部完了** (1.1 - 1.5a)
- ✅ 1.1 プロジェクト環境構築
- ✅ 1.2 データ永続化層実装
- ✅ 1.3 接続管理機能
- ✅ 1.4 環境別テーマシステム
- ✅ 1.5 マルチウィンドウ機能
- ✅ 1.5a セキュリティ情報格納方式変更

### 今後のフェーズ

- 🔄 **1.5b Nuxt + Nuxt UI v4 フレッシュスタート移行** (2-3週間) ← 次のフェーズ
- 📝 フェーズ2: 高度な機能実装 (2-3ヶ月)
- 📝 フェーズ3: 安全機能・最適化 (1ヶ月)

---

## フェーズ1.5b: Nuxt + Nuxt UI v4 フレッシュスタート移行 (2-3週間)

### 移行アプローチ

**既存のVue 3 + Vite + Vuetifyフロントエンドを完全削除し、Nuxt 3 + Nuxt UI v4で一から再構築します。**

**理由**:
- 既存の段階的移行計画が実装でうまくいかなかった
- VuetifyとNuxt UIの混在による複雑性を回避
- Nuxtのベストプラクティスに完全準拠した構成を実現

**保持するもの**:
- ✅ Rustバックエンド (src-tauri/)
- ✅ Piniaストアのビジネスロジック
- ✅ 型定義
- ✅ Tauri IPC通信

**削除するもの**:
- ❌ src/ ディレクトリ全体
- ❌ Vuetify関連の全依存関係
- ❌ Vue Router設定
- ❌ 既存の42個のVueコンポーネント

---

### 1.5b.1 Phase 1: クリーンスレート準備 (2-3日)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 1.5b.1.1 | 既存フロントエンドのバックアップ | Dev | 0.5h | 1.5a完了 | バックアップブランチ作成 |
| 1.5b.1.2 | 移行ブランチ作成 | Dev | 0.5h | 1.5b.1.1 | `feature/nuxt-fresh-start`作成 |
| 1.5b.1.3 | 既存src/削除と依存関係クリーンアップ | Dev | 1h | 1.5b.1.2 | src/削除、Vuetifyアンインストール |
| 1.5b.1.4 | Nuxt 3インストール | Dev | 2h | 1.5b.1.3 | nuxt.config.ts作成、動作確認 |
| 1.5b.1.5 | Nuxt UI v4インストール | Dev | 2h | 1.5b.1.4 | @nuxt/ui導入完了 |
| 1.5b.1.6 | Tailwind CSS v4設定 | Dev | 2h | 1.5b.1.5 | tailwind.config.ts作成 |
| 1.5b.1.7 | 環境別カラーパレット定義 | Dev | 3h | 1.5b.1.6 | 4環境のTailwindカラー定義 |
| 1.5b.1.8 | app.config.ts作成 | Dev | 2h | 1.5b.1.7 | Nuxt UI設定完了 |
| 1.5b.1.9 | app.vue作成 | Dev | 1h | 1.5b.1.8 | ルートコンポーネント作成 |
| 1.5b.1.10 | 動作確認ページ作成 | Dev | 2h | 1.5b.1.9 | 環境色とダークモード確認 |
| 1.5b.1.11 | Tauri設定の微調整 | Dev | 2h | 1.5b.1.10 | Nuxtビルド出力先設定 |
| 1.5b.1.12 | Phase 1動作確認 | Dev | 1h | 1.5b.1.11 | Tauriアプリ起動成功 |

**成果物**:
- nuxt.config.ts
- tailwind.config.ts
- app/app.config.ts
- app/app.vue
- app/pages/index.vue (動作確認ページ)

**完了条件**:
- ✅ `npm run dev`でNuxt開発サーバーが起動
- ✅ `npm run tauri:dev`でTauriアプリが起動
- ✅ 環境別カラーが正しく表示される
- ✅ ダークモードが切り替わる

---

### 1.5b.2 Phase 2: コア機能実装 (1週間)

#### サブフェーズ2.1: Composables・型定義 (1日)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 1.5b.2.1.1 | useEnvironment composable作成 | Dev | 2h | 1.5b.1.12 | 環境管理ロジック実装 |
| 1.5b.2.1.2 | useTauri composable作成 | Dev | 2h | 1.5b.2.1.1 | Tauri IPC抽象化 |
| 1.5b.2.1.3 | 型定義ファイル作成 | Dev | 2h | 1.5b.2.1.2 | types/index.ts作成 |
| 1.5b.2.1.4 | useTheme composable作成 | Dev | 2h | 1.5b.2.1.3 | テーマ管理ロジック |

#### サブフェーズ2.2: Piniaストア移行 (1日)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 1.5b.2.2.1 | connectionストア移行 | Dev | 2h | 1.5b.2.1.4 | 接続管理ストア動作 |
| 1.5b.2.2.2 | themeストア移行 | Dev | 1h | 1.5b.2.2.1 | テーマストア動作 |
| 1.5b.2.2.3 | windowストア移行 | Dev | 1h | 1.5b.2.2.2 | ウィンドウストア動作 |
| 1.5b.2.2.4 | settingsストア移行 | Dev | 2h | 1.5b.2.2.3 | 設定ストア動作 |
| 1.5b.2.2.5 | securityストア移行 | Dev | 2h | 1.5b.2.2.4 | セキュリティストア動作 |

#### サブフェーズ2.3: 共通コンポーネント (1.5日)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 1.5b.2.3.1 | EnvironmentHeader.vue作成 | FE | 3h | 1.5b.2.2.5 | 環境ヘッダー表示 |
| 1.5b.2.3.2 | EnvironmentBadge.vue作成 | FE | 2h | 1.5b.2.3.1 | 環境バッジ表示 |
| 1.5b.2.3.3 | EnvironmentIndicator.vue作成 | FE | 2h | 1.5b.2.3.2 | 環境インジケーター表示 |
| 1.5b.2.3.4 | EnvironmentWarningBanner.vue作成 | FE | 2h | 1.5b.2.3.3 | 警告バナー表示 |

#### サブフェーズ2.4: ランチャーページ (2.5日)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 1.5b.2.4.1 | pages/index.vue作成 | FE | 3h | 1.5b.2.3.4 | ランチャーページ表示 |
| 1.5b.2.4.2 | ConnectionCard.vue作成 | FE | 4h | 1.5b.2.4.1 | 接続カード表示 |
| 1.5b.2.4.3 | ConnectionList.vue作成 | FE | 3h | 1.5b.2.4.2 | 接続リスト表示 |
| 1.5b.2.4.4 | LauncherToolbar.vue作成 | FE | 2h | 1.5b.2.4.3 | ツールバー表示 |
| 1.5b.2.4.5 | 接続選択→ウィンドウ起動実装 | FE/BE | 4h | 1.5b.2.4.4 | Tauri IPC通信確認 |
| 1.5b.2.4.6 | 検索・フィルター機能実装 | FE | 3h | 1.5b.2.4.5 | 接続検索可能 |

#### サブフェーズ2.5: 接続フォームページ (2日)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 1.5b.2.5.1 | pages/connection-form.vue作成 | FE | 4h | 1.5b.2.4.6 | フォームページ表示 |
| 1.5b.2.5.2 | EnvironmentSelector.vue作成 | FE | 2h | 1.5b.2.5.1 | 環境選択UI |
| 1.5b.2.5.3 | EnvironmentColorPicker.vue作成 | FE | 3h | 1.5b.2.5.2 | 環境色ピッカー |
| 1.5b.2.5.4 | ThemePreview.vue作成 | FE | 2h | 1.5b.2.5.3 | テーマプレビュー |
| 1.5b.2.5.5 | 接続CRUD機能実装 | FE/BE | 4h | 1.5b.2.5.4 | 作成・編集・削除可能 |
| 1.5b.2.5.6 | 接続テスト機能実装 | FE/BE | 3h | 1.5b.2.5.5 | DB接続テスト可能 |

**成果物**:
- Composables (useEnvironment, useTauri, useTheme)
- 型定義 (types/index.ts)
- Piniaストア5種類
- 共通コンポーネント4種類
- ランチャーページ完成
- 接続フォームページ完成

**完了条件**:
- ✅ ランチャーで接続一覧が表示される
- ✅ 新規接続の作成・編集・削除が可能
- ✅ 接続選択でクエリビルダーウィンドウが起動
- ✅ 環境別テーマが正しく適用される

---

### 1.5b.3 Phase 3: 詳細機能実装 (1週間)

#### サブフェーズ3.1: 設定ページ (2日)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 1.5b.3.1.1 | pages/settings.vue作成 | FE | 3h | 1.5b.2.5.6 | 設定ページ表示 |
| 1.5b.3.1.2 | GeneralSettings.vue作成 | FE | 3h | 1.5b.3.1.1 | 一般設定UI |
| 1.5b.3.1.3 | SecuritySettings.vue作成 | FE | 4h | 1.5b.3.1.2 | セキュリティ設定UI |
| 1.5b.3.1.4 | SecurityProviderCard.vue作成 | FE | 2h | 1.5b.3.1.3 | プロバイダーカード |
| 1.5b.3.1.5 | SecurityLevelIndicator.vue作成 | FE | 1h | 1.5b.3.1.4 | レベル表示 |
| 1.5b.3.1.6 | ProviderChangeDialog.vue作成 | FE | 2h | 1.5b.3.1.5 | プロバイダー変更UI |
| 1.5b.3.1.7 | AboutSection.vue作成 | FE | 1h | 1.5b.3.1.6 | Aboutセクション |
| 1.5b.3.1.8 | WindowRestoreSettings.vue作成 | FE | 2h | 1.5b.3.1.7 | ウィンドウ復元設定 |

#### サブフェーズ3.2: セキュリティコンポーネント (1.5日)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 1.5b.3.2.1 | MasterPasswordSetupDialog.vue作成 | FE | 4h | 1.5b.3.1.8 | パスワード設定UI |
| 1.5b.3.2.2 | UnlockDialog.vue作成 | FE | 3h | 1.5b.3.2.1 | アンロックUI |
| 1.5b.3.2.3 | PasswordStrengthMeter.vue作成 | FE | 3h | 1.5b.3.2.2 | 強度メーター |
| 1.5b.3.2.4 | PasswordRequirements.vue作成 | FE | 2h | 1.5b.3.2.3 | 要件表示 |

#### サブフェーズ3.3: クエリビルダー基本構造 (2.5日)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 1.5b.3.3.1 | pages/query-builder.vue作成 | FE | 4h | 1.5b.3.2.4 | クエリビルダーページ |
| 1.5b.3.3.2 | QueryBuilderLayout.vue作成 | FE | 4h | 1.5b.3.3.1 | 3カラムレイアウト |
| 1.5b.3.3.3 | QueryBuilderToolbar.vue作成 | FE | 3h | 1.5b.3.3.2 | ツールバー |
| 1.5b.3.3.4 | LeftPanel.vue作成（DB構造） | FE | 3h | 1.5b.3.3.3 | 左パネル |
| 1.5b.3.3.5 | CenterPanel.vue作成（キャンバス） | FE | 4h | 1.5b.3.3.4 | 中央パネル |
| 1.5b.3.3.6 | RightPanel.vue作成（SQL/条件） | FE | 3h | 1.5b.3.3.5 | 右パネル |
| 1.5b.3.3.7 | ResizablePanel.vue作成 | FE | 3h | 1.5b.3.3.6 | リサイズ可能パネル |

#### サブフェーズ3.4: その他コンポーネント (1日)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 1.5b.3.4.1 | RestoreWindowsDialog.vue作成 | FE | 2h | 1.5b.3.3.7 | ウィンドウ復元ダイアログ |
| 1.5b.3.4.2 | ActiveFilters.vue作成 | FE | 2h | 1.5b.3.4.1 | アクティブフィルター表示 |
| 1.5b.3.4.3 | SqlPreview.vue作成 | FE | 3h | 1.5b.3.4.2 | SQLプレビュー |
| 1.5b.3.4.4 | QueryInfo.vue作成 | FE | 1h | 1.5b.3.4.3 | クエリ情報表示 |

**成果物**:
- 設定ページ完成 (一般・セキュリティ・About)
- セキュリティコンポーネント4種類
- クエリビルダー基本構造完成
- その他コンポーネント4種類

**完了条件**:
- ✅ 設定画面で各種設定が可能
- ✅ セキュリティプロバイダー選択・変更が可能
- ✅ クエリビルダーのレイアウトが表示される
- ✅ パネルのリサイズが動作する

---

### 1.5b.4 Phase 4: テスト・最適化・リリース (2-3日)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 1.5b.4.1 | 全ページ統合テスト | QA | 3h | 1.5b.3.4.4 | 全ページ動作確認 |
| 1.5b.4.2 | Tauri IPC通信テスト | QA | 2h | 1.5b.4.1 | 全IPC通信確認 |
| 1.5b.4.3 | 環境テーマ切り替えテスト | QA | 2h | 1.5b.4.2 | 4環境テーマ確認 |
| 1.5b.4.4 | マルチウィンドウテスト | QA | 2h | 1.5b.4.3 | ウィンドウ独立性確認 |
| 1.5b.4.5 | レスポンシブ対応確認 | QA | 2h | 1.5b.4.4 | 各画面サイズ確認 |
| 1.5b.4.6 | パフォーマンステスト | QA | 3h | 1.5b.4.5 | 起動時間・レスポンス測定 |
| 1.5b.4.7 | バグ修正 | Dev | 6h | 1.5b.4.6 | クリティカルバグゼロ |
| 1.5b.4.8 | コード最適化 | Dev | 4h | 1.5b.4.7 | バンドルサイズ削減 |
| 1.5b.4.9 | ドキュメント更新 | Dev | 2h | 1.5b.4.8 | 移行ドキュメント作成 |
| 1.5b.4.10 | Phase 4完了レビュー | PM | 1h | 1.5b.4.9 | 承認取得 |

**成果物**:
- テストレポート
- パフォーマンスレポート
- 移行完了ドキュメント
- バグ修正リスト

**完了条件**:
- ✅ 全機能が動作する
- ✅ Tauri統合が正常動作
- ✅ 初期ロード < 2秒
- ✅ クリティカルバグゼロ
- ✅ PM承認取得

---

## フェーズ2: 高度な機能実装 (2-3ヶ月)

**前提**: 1.5b Phase 4完了後に開始

### 2.1 基本クエリビルダー実装 (2週間)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 2.1.1 | データベース構造取得API実装 | BE | 2日 | 1.5b.4.10 | テーブル・カラム情報取得 |
| 2.1.2 | テーブル選択機能実装 | FE | 1日 | 2.1.1 | ドラッグ&ドロップでテーブル選択 |
| 2.1.3 | カラム選択UI実装 | FE | 2日 | 2.1.2 | チェックボックスでカラム選択 |
| 2.1.4 | WHERE条件設定UI実装 | FE | 2日 | 2.1.3 | 条件追加・編集が可能 |
| 2.1.5 | クエリオブジェクトモデル定義 | FE/BE | 1日 | - | JSON形式でクエリ表現 |
| 2.1.6 | SQL生成エンジン（SELECT/WHERE）実装 | BE | 2日 | 2.1.5 | SQLが正しく生成される |
| 2.1.7 | リアルタイムSQL生成機能 | FE | 1日 | 2.1.6 | 操作に応じてSQL更新 |
| 2.1.8 | シンタックスハイライト実装 | FE | 0.5日 | 2.1.7 | SQLが色分け表示 |

### 2.2 SQLプレビュー・実行機能 (1週間)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 2.2.1 | クエリ実行API実装 | BE | 2日 | 2.1.8 | SQLを実行して結果取得 |
| 2.2.2 | 結果表示テーブルUI実装 | FE | 1.5日 | 2.2.1 | 結果が表形式で表示 |
| 2.2.3 | エラーハンドリング実装 | BE/FE | 1日 | 2.2.2 | エラーが適切に表示 |
| 2.2.4 | 実行履歴記録機能 | BE | 1日 | 2.2.3 | 実行ログ記録 |
| 2.2.5 | ページネーション実装 | FE | 1日 | 2.2.4 | 大量データ対応 |

### 2.3 JOIN機能実装 (2週間)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 2.3.1 | テーブル関係図キャンバス実装 | FE | 3日 | 2.2.5 | ドラッグ&ドロップが動作 |
| 2.3.2 | JOIN設定ダイアログUI実装 | FE | 2日 | 2.3.1 | ダイアログ表示が動作 |
| 2.3.3 | JOIN種別選択機能実装 | FE | 1日 | 2.3.2 | INNER/LEFT/RIGHT/FULL選択可能 |
| 2.3.4 | JOIN条件設定機能実装 | FE | 2日 | 2.3.3 | カラム間の結合条件設定 |
| 2.3.5 | SQL生成エンジン（JOIN）拡張 | BE | 2日 | 2.3.4 | JOIN句が生成される |
| 2.3.6 | 複数JOIN対応 | FE/BE | 1日 | 2.3.5 | 3つ以上のテーブル結合可能 |
| 2.3.7 | JOIN機能テスト | QA | 1日 | 2.3.6 | テストケース通過 |

### 2.4 GROUP BY / 集計関数機能 (1.5週間)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 2.4.1 | GROUP BY設定UI実装 | FE | 2日 | 2.3.7 | グループ化カラム選択可能 |
| 2.4.2 | 集計関数選択UI実装 | FE | 2日 | 2.4.1 | COUNT/SUM/AVG等選択可能 |
| 2.4.3 | HAVING条件設定UI実装 | FE | 1.5日 | 2.4.2 | HAVING条件設定可能 |
| 2.4.4 | SQL生成エンジン（GROUP BY）拡張 | BE | 2日 | 2.4.3 | GROUP BY/HAVING句生成 |
| 2.4.5 | 集計関数バリデーション実装 | FE | 1日 | 2.4.4 | 不正な組み合わせを検出 |
| 2.4.6 | GROUP BY機能テスト | QA | 1日 | 2.4.5 | テストケース通過 |

### 2.5 ORDER BY / LIMIT機能 (1週間)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 2.5.1 | ORDER BY設定UI実装 | FE | 1.5日 | 2.4.6 | 並び順設定可能 |
| 2.5.2 | 複数カラムソート対応 | FE | 1日 | 2.5.1 | 優先順位付きソート可能 |
| 2.5.3 | LIMIT/OFFSET設定UI実装 | FE | 1日 | 2.5.2 | 件数制限設定可能 |
| 2.5.4 | SQL生成エンジン（ORDER BY）拡張 | BE | 1日 | 2.5.3 | ORDER BY/LIMIT句生成 |
| 2.5.5 | ORDER BY機能テスト | QA | 0.5日 | 2.5.4 | テストケース通過 |

### 2.6 クエリ保存機能 (1.5週間)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 2.6.1 | クエリ保存データ構造設計 | BE | 0.5日 | 2.5.5 | JSON構造確定 |
| 2.6.2 | クエリ保存API実装 | BE | 1日 | 2.6.1 | クエリをファイル保存 |
| 2.6.3 | クエリ管理画面UI実装 | FE | 2日 | 2.6.2 | 保存済みクエリ一覧表示 |
| 2.6.4 | フォルダ・タグ管理機能実装 | FE/BE | 2日 | 2.6.3 | フォルダ分類・タグ付け可能 |
| 2.6.5 | クエリ読み込み機能実装 | FE/BE | 1日 | 2.6.4 | 保存クエリを復元 |
| 2.6.6 | クエリ検索機能実装 | FE | 1.5日 | 2.6.5 | 名前・タグで検索可能 |
| 2.6.7 | クエリテンプレート機能実装 | FE | 1日 | 2.6.6 | よく使うクエリをテンプレート化 |

### 2.7 クエリ履歴機能 (1週間)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 2.7.1 | クエリ履歴データ構造設計 | BE | 0.5日 | 2.6.7 | JSON構造確定 |
| 2.7.2 | クエリ実行ログ記録実装 | BE | 1日 | 2.7.1 | 実行時に自動記録 |
| 2.7.3 | 履歴画面UI実装 | FE | 2日 | 2.7.2 | 履歴一覧表示 |
| 2.7.4 | 履歴フィルター機能実装 | FE | 1日 | 2.7.3 | 日時・ステータスでフィルター |
| 2.7.5 | 履歴からクエリ復元機能実装 | FE | 1日 | 2.7.4 | 履歴をクリックで復元 |
| 2.7.6 | 履歴削除・クリア機能実装 | FE/BE | 0.5日 | 2.7.5 | 履歴削除可能 |

### 2.8 結果エクスポート機能 (1.5週間)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 2.8.1 | CSV エクスポート実装 | BE | 1日 | 2.7.6 | CSV出力可能 |
| 2.8.2 | Excel エクスポート実装 | BE | 2日 | 2.8.1 | XLSX出力可能 |
| 2.8.3 | JSON エクスポート実装 | BE | 0.5日 | 2.8.2 | JSON出力可能 |
| 2.8.4 | エクスポート設定UI実装 | FE | 1日 | 2.8.3 | 形式・オプション選択可能 |
| 2.8.5 | ファイル保存ダイアログ実装 | FE/BE | 1日 | 2.8.4 | 保存先選択可能 |
| 2.8.6 | 大量データエクスポート最適化 | BE | 2日 | 2.8.5 | 10万件でも高速動作 |
| 2.8.7 | エクスポート進捗表示実装 | FE | 1日 | 2.8.6 | 進捗バー表示 |

### 2.9 追加データベース対応 (2週間)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 2.9.1 | PostgreSQL ドライバ実装 | BE | 3日 | 2.8.7 | PostgreSQL接続・実行可能 |
| 2.9.2 | MySQL ドライバ実装 | BE | 3日 | 2.9.1 | MySQL接続・実行可能 |
| 2.9.3 | SQLite ドライバ実装 | BE | 2日 | 2.9.2 | SQLite接続・実行可能 |
| 2.9.4 | DB種別自動判別機能実装 | BE | 1日 | 2.9.3 | 接続情報から自動判別 |
| 2.9.5 | DB別SQL方言対応 | BE | 2日 | 2.9.4 | 各DBの構文に対応 |
| 2.9.6 | 各DB動作テスト | QA | 2日 | 2.9.5 | 全DB種別でテスト通過 |

### 2.10 フェーズ2統合テスト (1.5週間)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 2.10.1 | 統合テストシナリオ拡張 | QA | 1日 | 2.9.6 | テストケース更新 |
| 2.10.2 | E2Eテスト拡張 | QA | 3日 | 2.10.1 | 全機能の自動テスト |
| 2.10.3 | パフォーマンステスト実施 | QA | 2日 | 2.10.2 | 性能要件クリア |
| 2.10.4 | バグ修正 | 全員 | 3日 | 2.10.3 | 重大なバグがゼロ |
| 2.10.5 | ドキュメント更新 | 全員 | 1日 | 2.10.4 | 全機能のマニュアル完成 |
| 2.10.6 | フェーズ2レビュー・承認 | PM | 0.5日 | 2.10.5 | ステークホルダー承認 |

---

## フェーズ3: 安全機能・最適化 (1ヶ月)

**前提**: フェーズ2完了後に開始

### 3.1 本番環境安全機能 (1.5週間)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 3.1.1 | UPDATE/DELETE検出機能実装 | BE | 1日 | 2.10.6 | クエリ種別を判定 |
| 3.1.2 | 2段階確認ダイアログ実装 | FE | 2日 | 3.1.1 | 確認ダイアログ表示 |
| 3.1.3 | 実行ボタン遅延機能実装 | FE | 1日 | 3.1.2 | 3秒待機後に有効化 |
| 3.1.4 | 環境別安全設定機能実装 | FE/BE | 2日 | 3.1.3 | 環境ごとに設定可能 |
| 3.1.5 | 操作ログ強化実装 | BE | 2日 | 3.1.4 | 詳細ログ記録 |
| 3.1.6 | 安全機能テスト | QA | 1日 | 3.1.5 | 誤操作防止を確認 |

### 3.2 操作ログ・監査機能 (1週間)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 3.2.1 | 監査ログデータ構造設計 | BE | 0.5日 | 3.1.6 | ログ形式確定 |
| 3.2.2 | 監査ログ記録実装 | BE | 1日 | 3.2.1 | 全操作を記録 |
| 3.2.3 | ログビューア画面UI実装 | FE | 2日 | 3.2.2 | ログ一覧表示 |
| 3.2.4 | ログ検索・フィルター実装 | FE | 1.5日 | 3.2.3 | 条件検索可能 |
| 3.2.5 | ログエクスポート機能実装 | BE | 1日 | 3.2.4 | ログをCSV出力 |
| 3.2.6 | ログ改ざん防止機能実装 | BE | 1日 | 3.2.5 | ハッシュで改ざん検出 |

### 3.3 性能最適化 (1.5週間)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 3.3.1 | 起動時間最適化 | BE/FE | 2日 | 3.2.6 | 3秒以内に起動 |
| 3.3.2 | クエリ実行レスポンス最適化 | BE | 2日 | 3.3.1 | 1秒以内にレスポンス |
| 3.3.3 | 大量データ表示最適化 | FE | 2日 | 3.3.2 | 仮想スクロール実装 |
| 3.3.4 | メモリ使用量最適化 | BE | 1日 | 3.3.3 | メモリリーク解消 |
| 3.3.5 | SQL生成処理最適化 | BE | 1日 | 3.3.4 | 0.5秒以内に生成 |
| 3.3.6 | バンドルサイズ最適化 | FE | 1日 | 3.3.5 | アプリサイズ削減 |
| 3.3.7 | パフォーマンステスト再実施 | QA | 1日 | 3.3.6 | 性能要件クリア |

### 3.4 ユーザビリティ改善 (1週間)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 3.4.1 | キーボードショートカット実装 | FE | 2日 | 3.3.7 | 主要操作がショートカット可能 |
| 3.4.2 | ツールチップ・ヘルプ追加 | FE | 1日 | 3.4.1 | 全機能に説明追加 |
| 3.4.3 | 初心者向けガイド実装 | FE | 2日 | 3.4.2 | ウォークスルー表示 |
| 3.4.4 | エラーメッセージ改善 | FE/BE | 1日 | 3.4.3 | わかりやすいエラー表示 |
| 3.4.5 | アクセシビリティ対応 | FE | 1日 | 3.4.4 | WCAG 2.1準拠 |

### 3.5 最終テスト・リリース準備 (1.5週間)

| タスクID | タスク名 | 担当 | 工数 | 依存関係 | 完了条件 |
|---------|---------|------|------|---------|---------|
| 3.5.1 | 全機能統合テスト | QA | 3日 | 3.4.5 | 全テストケース通過 |
| 3.5.2 | 複数OS環境での動作確認 | QA | 2日 | 3.5.1 | Win/Mac/Linuxで動作 |
| 3.5.3 | セキュリティテスト実施 | セキュリティ | 2日 | 3.5.2 | 脆弱性なし |
| 3.5.4 | ユーザー受け入れテスト | QA/ユーザー | 3日 | 3.5.3 | ユーザー承認 |
| 3.5.5 | 最終バグ修正 | 全員 | 2日 | 3.5.4 | クリティカルバグゼロ |
| 3.5.6 | リリースノート作成 | PM | 1日 | 3.5.5 | リリースノート完成 |
| 3.5.7 | ユーザーマニュアル完成 | テクニカルライター | 2日 | 3.5.6 | 完全版マニュアル |
| 3.5.8 | インストーラー作成 | DevOps | 2日 | 3.5.5 | 各OS用インストーラー |
| 3.5.9 | リリース承認 | PM/ステークホルダー | 0.5日 | 3.5.7, 3.5.8 | 正式リリース承認 |

---

## プロジェクト管理情報

### リソース配分

| 役割 | 人数 | 主な担当フェーズ |
|------|------|-----------------|
| プロジェクトマネージャー | 1名 | 全フェーズ |
| バックエンド開発者 (Rust) | 2名 | フェーズ1.5b-3 |
| フロントエンド開発者 (Nuxt/Vue) | 2名 | フェーズ1.5b-3 |
| QAエンジニア | 1名 | フェーズ1.5b-3 |
| DevOpsエンジニア | 1名 (兼任) | 環境構築・リリース |
| テクニカルライター | 1名 (パートタイム) | フェーズ3 |
| セキュリティエンジニア | 1名 (コンサル) | フェーズ3 |

### マイルストーン

| マイルストーン | 期日 | 成果物 |
|---------------|------|--------|
| M0: 1.5a完了 | Week 0 (現在) | セキュリティプロバイダー実装完了 |
| M1: 1.5b Phase 1完了 | Week 0.5 | Nuxt環境構築完了 |
| M2: 1.5b Phase 2完了 | Week 1.5 | コア機能実装完了 |
| M3: 1.5b Phase 3完了 | Week 2.5 | 詳細機能実装完了 |
| M4: 1.5b完了 | Week 3 | Nuxt移行完了 |
| M5: フェーズ2完了 | Week 15 | 高度機能デモ |
| M6: フェーズ3完了 | Week 19 | リリース候補版 |
| M7: 正式リリース | Week 21 | v1.0製品版 |

### 工数サマリー

#### フェーズ別工数

| フェーズ | 計画工数 | 期間 | バッファ |
|---------|---------|------|---------|
| 1.5b Phase 1 | 約20時間 | 2-3日 | 20% |
| 1.5b Phase 2 | 約56時間 | 1週間 | 20% |
| 1.5b Phase 3 | 約56時間 | 1週間 | 20% |
| 1.5b Phase 4 | 約27時間 | 2-3日 | 15% |
| **1.5b合計** | **約159時間** | **2-3週間** | **19%** |
| フェーズ2 | 約480時間 | 12週間 | 20% |
| フェーズ3 | 約240時間 | 6週間 | 15% |
| **総合計** | **約879時間** | **21週間** | **18%** |

---

## 成功基準

### 1.5b Phase 完了基準

#### 機能完全性
- ✅ ランチャー画面で接続管理が可能
- ✅ 接続フォームで接続作成・編集・削除が可能
- ✅ 設定画面でセキュリティプロバイダー選択が可能
- ✅ クエリビルダーの基本レイアウトが表示される
- ✅ 環境別テーマが正しく適用される
- ✅ Tauri IPCが正常動作する

#### パフォーマンス
- ✅ 初期ロード < 2秒
- ✅ バンドルサイズ < 300KB
- ✅ HMR < 1秒

#### コード品質
- ✅ TypeScript型安全性
- ✅ Nuxtベストプラクティス準拠
- ✅ ESLint/Prettierエラーゼロ

---

## リスク管理

| リスクID | リスク内容 | 影響度 | 発生確率 | 対策 |
|---------|-----------|--------|---------|------|
| R1 | Nuxt移行時の予期しない問題 | 高 | 中 | Phase 1で早期検証 |
| R2 | Tauri IPC互換性問題 | 高 | 低 | Phase 2で早期検証 |
| R3 | パフォーマンス要件未達 | 中 | 中 | 継続的なパフォーマンステスト |
| R4 | 既存ストア移行時の問題 | 中 | 中 | 段階的移行、十分なテスト |

---

## 次のアクション

### 即座に開始すべきタスク

1. ✅ 1.5b移行計画レビュー
2. 📝 1.5b.1.1 既存フロントエンドのバックアップ
3. 📝 1.5b.1.2 移行ブランチ作成
4. 📝 1.5b.1.3 既存src/削除と依存関係クリーンアップ
5. 📝 1.5b.1.4 Nuxt 3インストール

---

## 変更履歴

| 日付 | バージョン | 変更内容 | 承認者 |
|------|----------|---------|--------|
| 2025-10-05 | 1.0 | 初版作成 | - |
| 2025-11-24 | 1.1 | 1.5aフェーズ追加（セキュリティ情報格納方式変更） | - |
| 2025-12-06 | 1.2 | 1.5bフェーズ追加（Nuxt UI v4移行 - 段階的移行） | - |
| 2025-12-07 | 2.0 | **1.5bフェーズ再設計（フレッシュスタート方式）** | - |

---

**次のアクション**: 1.5b Phase 1の開始
